# CurryCat Twitch Interface - 麥克風權限測試指南

## 🎯 測試目標
驗證打包後的 Electron 應用程式能夠正確請求並使用麥克風權限來進行語音偵測。

## 📋 測試步驟

### 1. 準備測試環境
```bash
# 確保應用程式已建構完成
yarn electron:dist

# 啟動應用程式
open "dist-electron/mac-arm64/CurryCat Twitch Interface.app"
```

### 2. 清理舊權限（如果需要）
1. 打開「系統偏好設定」
2. 前往「安全性與隱私權」→「隱私權」→「麥克風」
3. 如果看到 "CurryCat Twitch Interface"，請取消勾選或移除

### 3. 測試權限請求
1. 應用程式啟動後，找到 Portrait 組件（頭像）
2. Portrait 組件會自動嘗試啟動語音偵測功能
3. **預期行為**：應該彈出麥克風權限請求對話框
4. 對話框應顯示：「此應用程式需要麥克風權限來偵測語音並切換頭像表情。」

### 4. 測試功能
允許權限後：
- 對著麥克風說話，頭像應該會切換表情
- 保持安靜時，頭像應該回到預設狀態

## ✅ 成功指標
- [x] 權限描述已包含在 Info.plist 中
- [x] Entitlements 包含麥克風權限
- [x] 應用程式會彈出權限請求對話框
- [x] 語音偵測功能正常運作

## 🔍 除錯資訊
如果權限請求沒有彈出：
1. 檢查 Console.app 中是否有權限相關錯誤
2. 確認 macOS 版本支援（需要 macOS 10.14+）
3. 嘗試完全重新安裝應用程式

## 📱 當前配置
- **Info.plist**: 包含中文權限描述
- **Entitlements**: 包含所有音頻相關權限
- **Electron**: 正確配置權限處理器
